import{a as G}from"./chunk-VIPYE6PM.js";import{D as u,i as $,ia as U,ja as Z,ma as q,na as Y,r as P}from"./chunk-CWS7CC46.js";import{Gb as s,Hb as D,Ib as l,Lb as g,Oa as S,Ra as d,Sa as m,T as w,U as F,Y as b,_ as R,ea as p,fa as v,ga as f,gb as _,hb as k,ib as A,k as j,kb as x,ma as B,mb as y,na as V,nc as L,o as z,oa as X,pa as N,rb as c,sb as n,tb as C,ub as H,wb as I,xb as h,yb as E,zb as M}from"./chunk-OPQ4FWMC.js";var W=r=>({product:r,quantity:1});var K=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=v({type:e}),e.\u0275inj=b({imports:[u]});let r=e;return r})();var J=(()=>{let e=class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=P(t)}get inset(){return this._inset}set inset(t){this._inset=P(t)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=p({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(a,i){a&2&&(k("aria-orientation",i.vertical?"vertical":"horizontal"),x("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[g],decls:0,vars:0,template:function(a,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let r=e;return r})(),Q=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=v({type:e}),e.\u0275inj=b({imports:[u,u]});let r=e;return r})();var le=["*"];var pe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ge=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],ue=new R("MAT_CARD_CONFIG"),ee=(()=>{let e=class e{constructor(t){this.appearance=t?.appearance||"raised"}};e.\u0275fac=function(a){return new(a||e)(m(ue,8))},e.\u0275cmp=p({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(a,i){a&2&&x("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[g],ngContentSelectors:le,decls:1,vars:0,template:function(a,i){a&1&&(E(),M(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let r=e;return r})(),te=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=f({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let r=e;return r})();var re=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=f({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let r=e;return r})(),ae=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=f({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let r=e;return r})(),ie=(()=>{let e=class e{constructor(){this.align="start"}};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=f({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(a,i){a&2&&x("mat-mdc-card-actions-align-end",i.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let r=e;return r})(),ne=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=p({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[g],ngContentSelectors:ge,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(a,i){a&1&&(E(pe),M(0),c(1,"div",0),M(2,1),n(),M(3,2))},encapsulation:2,changeDetection:0});let r=e;return r})(),oe=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=f({type:e,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0});let r=e;return r})(),de=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=f({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let r=e;return r})();var ce=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=v({type:e}),e.\u0275inj=b({imports:[u,L,u]});let r=e;return r})();function he(r,e){if(r&1&&(c(0,"div",2),s(1),n()),r&2){let o=h();d(),l(" ",o.productCard.estado==="A Recibir"?"Pr\xF3ximamente":o.productCard.condicion," ")}}function be(r,e){if(r&1&&(c(0,"ol")(1,"li")(2,"span"),s(3,"C\xF3digo:"),n(),s(4),n(),c(5,"li")(6,"span"),s(7,"Origen: "),n(),s(8),n(),c(9,"li")(10,"span"),s(11,"Marca:"),n(),s(12),n()()),r&2){let o=h();d(4),l(" ",o.productCard.codigo,""),d(4),D(o.productCard.origen),d(4),l(" ",o.productCard.marca,"")}}function ve(r,e){if(r&1&&(c(0,"ol")(1,"li")(2,"span"),s(3,"Kilometraje:"),n(),s(4),n(),c(5,"li")(6,"span"),s(7,"A\xF1o: "),n(),s(8),n(),c(9,"li")(10,"span"),s(11,"Combustible:"),n(),s(12),n()()),r&2){let o=h();d(4),l(" ",o.formatNumber(o.productCard.kilometraje)," "),d(4),D(o.productCard.anio),d(4),l(" ",o.productCard.combustible,"")}}function _e(r,e){if(r&1&&(c(0,"mat-card-actions",4)(1,"a",5),s(2),n(),C(3,"img",6),n()),r&2){let o=h();d(),A("href",o.whatsApp,S),d(),l(" ",o.formatPrice(o.productCard.price)," ")}}function xe(r,e){if(r&1&&(c(0,"mat-card-actions")(1,"h4"),s(2),n()()),r&2){let o=h();d(2),l(" ",o.formatPrice(o.productCard.price)," ")}}function ye(r,e){if(r&1){let o=H();c(0,"button",7),I("click",function(){V(o);let a=h();return X(a.addToCart())}),s(1," Agregar al carrito "),N(),c(2,"svg",8),C(3,"path",9),n()()}}var rt=(()=>{let e=class e{constructor(t,a,i,O,se){this.apiService=t,this.route=a,this.cartService=i,this.errorHandlerService=O,this.utilsService=se,this.destroy$=new j,this.whatsApp="",this.image=""}ngOnInit(){this.getContact()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){t.productCard&&t.productCard.currentValue.id&&this.getProductsImages()}formatPrice(t){return t==="A Consultar"?"A Consultar":this.utilsService.formatPrice(Number(t),"ARS","es-AR")}formatNumber(t){return this.utilsService.formatNumber(t)}goToDetail(){this.apiService.selectProduct(this.productCard);let t;this.productCard.cardStyle==="auto-parts"?t=`/detail/autopart/${this.productCard.id}`:t=`/detail/vehicle/${this.productCard.id}`,this.route.navigate([t])}addToCart(){this.cartService.addToCart(W(this.productCard))}getProductsImages(){this.productCard.cardStyle==="auto-parts"?this.apiService.getPartImage(this.productCard.id.toString()).pipe(w(this.destroy$)).subscribe({next:t=>{this.image=t.data[0]?.url},error:t=>{this.errorHandlerService.handleError(t,"Error al obtener imagen del repuesto")}}):this.productCard.kilometraje===0?this.apiService.getVehicleOKMImage(this.productCard.id.toString()).pipe(w(this.destroy$)).subscribe({next:t=>{console.log(t.data[0]?.url),this.image=t.data[0]?.url},error:t=>{this.errorHandlerService.handleError(t,"Error al obtener imagen del vehiculo")}}):this.apiService.getVehicleUsedImage(this.productCard.id.toString()).pipe(w(this.destroy$)).subscribe({next:t=>{console.log(t.data[0]?.url),this.image=t.data[0]?.url},error:t=>{this.errorHandlerService.handleError(t,"Error al obtener imagen del vehiculo")}})}getContact(){this.apiService.getContactInfo("Whatsapp").pipe(w(this.destroy$),F({next:t=>{if(t&&t.length>0&&t[0].Valor&&typeof t[0].Valor=="string"){let a=this.utilsService.formatWhatsAppNumber(t[0].Valor);this.whatsApp=`https://wa.me/${a}`}},error:t=>(this.errorHandlerService.handleError(t,"Error al obtener la informaci\xF3n de WhatsApp"),z([]))})).subscribe()}};e.\u0275fac=function(a){return new(a||e)(m(Z),m($),m(Y),m(q),m(U))},e.\u0275cmp=p({type:e,selectors:[["app-card"]],inputs:{productCard:"productCard"},standalone:!0,features:[B,g],decls:16,vars:7,consts:[[1,"example-card"],[1,"image-container",3,"click"],[1,"card-indicator"],["mat-card-image","","alt","Product","height","193",1,"card-image",3,"src"],[1,"whatsapp-button"],["target","_blank","rel","noopener noreferrer",3,"href"],["src","../../../assets/icon-whatsapp.svg","alt",""],[3,"click"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 22.5C6.45 22.5 5.97917 22.3042 5.5875 21.9125C5.19583 21.5208 5 21.05 5 20.5C5 19.95 5.19583 19.4792 5.5875 19.0875C5.97917 18.6958 6.45 18.5 7 18.5C7.55 18.5 8.02083 18.6958 8.4125 19.0875C8.80417 19.4792 9 19.95 9 20.5C9 21.05 8.80417 21.5208 8.4125 21.9125C8.02083 22.3042 7.55 22.5 7 22.5ZM17 22.5C16.45 22.5 15.9792 22.3042 15.5875 21.9125C15.1958 21.5208 15 21.05 15 20.5C15 19.95 15.1958 19.4792 15.5875 19.0875C15.9792 18.6958 16.45 18.5 17 18.5C17.55 18.5 18.0208 18.6958 18.4125 19.0875C18.8042 19.4792 19 19.95 19 20.5C19 21.05 18.8042 21.5208 18.4125 21.9125C18.0208 22.3042 17.55 22.5 17 22.5ZM6.15 6.5L8.55 11.5H15.55L18.3 6.5H6.15ZM5.2 4.5H19.95C20.3333 4.5 20.625 4.67083 20.825 5.0125C21.025 5.35417 21.0333 5.7 20.85 6.05L17.3 12.45C17.1167 12.7833 16.8708 13.0417 16.5625 13.225C16.2542 13.4083 15.9167 13.5 15.55 13.5H8.1L7 15.5H19V17.5H7C6.25 17.5 5.68333 17.1708 5.3 16.5125C4.91667 15.8542 4.9 15.2 5.25 14.55L6.6 12.1L3 4.5H1V2.5H4.25L5.2 4.5Z","fill","black"]],template:function(a,i){a&1&&(c(0,"mat-card",0)(1,"mat-card-header",1),I("click",function(){return i.goToDetail()}),_(2,he,2,1,"div",2),C(3,"img",3),n(),c(4,"mat-card-content")(5,"mat-card-title"),s(6),n(),c(7,"mat-card-subtitle"),s(8),n(),_(9,be,13,3,"ol")(10,ve,13,3),C(11,"mat-divider"),n(),_(12,_e,4,2,"mat-card-actions",4)(13,xe,3,1),c(14,"mat-card-footer"),_(15,ye,4,0,"button"),n()()),a&2&&(d(2),y(2,i.productCard.indicator?2:-1),d(),A("src",i.image||i.productCard.img,S),d(3),D(i.productCard.tittle.substring(0,13)),d(2),l("Modelo: ",i.productCard.model,""),d(),y(9,i.productCard.cardStyle==="auto-parts"?9:10),d(3),y(12,i.formatPrice(i.productCard.price)==="A Consultar"?12:13),d(3),y(15,i.productCard.addToCartButton?15:-1))},dependencies:[ce,ee,ie,re,oe,ne,de,ae,te,Q,J,G,K],styles:[".example-card[_ngcontent-%COMP%]{width:333px;height:509px;border-radius:2px;box-shadow:3px 3px 3px #00000016;margin:32px;cursor:pointer;position:relative}mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px;font-weight:400;font-family:inter}.whatsapp-button[_ngcontent-%COMP%]{display:flex;background-color:#5dc1b9;align-items:center;margin:21px;height:48px;padding:12px 24px;gap:9px;border-radius:4px;opacity:0px;justify-content:center}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;font-family:inter}a[_ngcontent-%COMP%]{font-family:Inter;font-size:16px;font-weight:500;line-height:24px;text-align:left}.card-image[_ngcontent-%COMP%]{border-radius:5px;z-index:1;width:100%;height:193px}.card-indicator[_ngcontent-%COMP%]{position:absolute;z-index:10;top:35px;right:35px;background-color:#5dc1b9;border-radius:4px;padding:8px;gap:10}.mat-mdc-card-image[_ngcontent-%COMP%]   .mdc-card__media[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{border-radius:5px}.mat-mdc-card-content[_ngcontent-%COMP%]{width:320px}ol[_ngcontent-%COMP%]{list-style-type:disc;color:#0009;margin-left:30px}li[_ngcontent-%COMP%]{padding:5px;font-size:16px;font-weight:500px;font-family:inter}span[_ngcontent-%COMP%]{font-weight:500}h4[_ngcontent-%COMP%]{font-weight:700;font-size:24px;font-family:inter;margin:24px}.mat-mdc-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center}button[_ngcontent-%COMP%]{height:48px;width:273px;margin:0 15px 15px;display:flex;justify-content:center;gap:5px;cursor:pointer}button[_ngcontent-%COMP%]:active{color:#5dc1b9;background-color:#fff}button[_ngcontent-%COMP%]:hover{background-color:#5dc1b97d}@media (max-width: 800px){.example-card[_ngcontent-%COMP%]{margin:10px}mat-card-title[_ngcontent-%COMP%]{font-size:20px}li[_ngcontent-%COMP%]{font-size:14px}h4[_ngcontent-%COMP%]{font-size:20px}}"]});let r=e;return r})();var it=r=>{let e=[],o=new Date().getFullYear().toString();return r.forEach(t=>{let a=t.kms||0,i=t.precioDeVenta?.toString()||"A Consultar";e.push({id:t.auto_id.toString(),estado:t.estado,addToCartButton:!1,indicator:!0,marca:t.marca,kilometraje:a,anio:t.anio.toString()||o.toString(),combustible:t.combustible||"X",model:t.modelo,tittle:t.marca,modeloDescripcion:t.modelo_descripcion,price:i,priceNumber:t.precioDeVenta||0,cardStyle:"vehicle",localidad:t.localidad,img:"../../../assets/card-image-default.png",tipo:"Autos",condicion:t.condicion})}),e};export{W as a,rt as b,it as c};
